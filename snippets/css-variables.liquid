{% comment %}
  	This is used to create CSS custom variables with Liquid references
{% endcomment %}

{% assign base_font = settings.type_base_font %}
{% assign header_font = settings.type_header_font %}

{% if settings.type_button_style == 'body' %}
	{%- assign button_font = settings.type_base_font -%}
{% else %}
	{%- assign button_font = settings.type_header_font -%}
{% endif %}

{%- assign color_shadow_opacity = settings.color_shadow_opacity | times: 0.01 -%}
{%- assign drop_shadow = settings.color_shadow | color_modify: 'alpha', color_shadow_opacity -%}

{%- assign scaledMax = 1.25 -%}
{%- assign scaledMin = 0.75 -%}
{%- assign rangeMax = 150 -%}
{%- assign rangeMin = 50 -%}

{%- assign scaledDiff = scaledMax | minus: scaledMin -%}
{%- assign rangeDiff = rangeMax | minus: rangeMin -%}

{%- assign heading_scale_dif = settings.type_header_scale | minus: rangeMin -%}
{%- assign heading_size = scaledDiff | times: heading_scale_dif | divided_by: 100.0 | plus: scaledMin -%}

{%- assign grid_scale_dif = settings.type_grid_scale | minus: rangeMin -%}
{%- assign grid_size = scaledDiff | times: grid_scale_dif | divided_by: 100.0 | plus: scaledMin -%}

{%- assign nav_scale_dif = settings.type_nav_scale | minus: rangeMin -%}
{%- assign nav_size = scaledDiff | times: nav_scale_dif | divided_by: 100.0 | plus: scaledMin -%}

{%- assign button_scale_dif = settings.type_button_scale | minus: rangeMin -%}
{%- assign button_size = scaledDiff | times: button_scale_dif | divided_by: 100.0 | plus: scaledMin -%}

{%- assign base_size = settings.type_base_scale | minus: 100 | divided_by: 10.0 | times: 0.4 | plus: 14 -%}

{% assign label_opacity = settings.product_grid_label_opacity | divided_by: 100.0 %}

{% assign label_brand_brightness = settings.color_brand | color_brightness %}
{% assign label_sold_out_brightness = settings.color_label_sold_out | color_brightness %}
{% assign label_discount_brightness = settings.color_label_discount | color_brightness %}
{% assign label_new_brightness = settings.color_label_new | color_brightness %}
{% assign label_custom_one_brightness = settings.color_label_custom_one | color_brightness %}
{% assign label_custom_two_brightness = settings.color_label_custom_two | color_brightness %}

{% assign brightness_breakPoint = 125 -%}		

{% if label_brand_brightness < brightness_breakPoint %}
	{% assign label_brand_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_brand_text_color = '#000000' %}
{% endif %}

{% if label_sold_out_brightness < brightness_breakPoint %}
	{% assign label_sold_out_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_sold_out_text_color = '#000000' %}
{% endif %}

{% if label_discount_brightness < brightness_breakPoint %}
	{% assign label_discount_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_discount_text_color = '#000000' %}
{% endif %}

{% if label_new_brightness < brightness_breakPoint %}
	{% assign label_new_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_new_text_color = '#000000' %}
{% endif %}

{% if label_custom_one_brightness < brightness_breakPoint %}
	{% assign label_custom_one_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_custom_one_text_color = '#000000' %}
{% endif %}

{% if label_custom_two_brightness < brightness_breakPoint %}
	{% assign label_custom_two_text_color = '#FFFFFF' %}
{% else %}
	{% assign label_custom_two_text_color = '#000000' %}
{% endif %}

{% assign color_text_brightness = settings.color_text | color_brightness %}
{% if color_text_brightness < brightness_breakPoint %}
	{% assign checkbox_check_invert = 1 %}
{% else %}
	{% assign checkbox_check_invert = 0 %}
{% endif %}


{% style %}

:root {
	--color--brand: {{ settings.color_brand }};
	--color--brand-dark: {{ settings.color_brand | color_darken: 5 }};
	--color--brand-light: {{ settings.color_brand | color_lighten: 5 }};

	--color--accent: {{ settings.color_accent }};
	--color--accent-dark: {{ settings.color_accent | color_darken: 5 }};

	--color--link: {{ settings.color_brand | color_lighten: 30 }};
	--color--link-dark: {{ settings.color_brand | color_darken: 30 }};

	--color--text: {{ settings.color_text }};
	--color--text-light: {{ settings.color_text | color_modify: 'alpha', 0.7 }};
	--color--text-lighter: {{ settings.color_text | color_modify: 'alpha', 0.55 }};
	--color--text-lightest: {{ settings.color_text | color_modify: 'alpha', 0.2 }};
	--color--text-bg: {{ settings.color_text | color_modify: 'alpha', 0.1 }};

	--color--text-bg: {{ settings.color_text | color_modify: 'alpha', 0.1 }};

	--color--headings: {{ settings.color_headings }};
	--color--alt-text: {{ settings.color_alt_text }};
	--color--btn: {{ settings.color_button }};

	--color--product-bg: {{ settings.product_grid_bg }};
	--color--product-sale: {{ settings.product_grid_sale_color }};

	--color--low-stock: {{ settings.color_low_stock }};
	--color--in-stock: {{ settings.color_in_stock }};

	--color--drawer-bg: {{ settings.color_drawer_bg }};

	--color--bg: {{ settings.color_bg }};
	--color--bg-alpha: {{ settings.color_bg | color_modify: 'alpha', 0.8 }};
	--color--bg-light: {{ settings.color_bg | color_lighten: 5 }};
	--color--bg-dark: {{ settings.color_bg | color_darken: 5 }};

	--color--drop-shadow: {{ drop_shadow }};

	--color--cart-announcement-icon: {{ settings.cart_announcement_icon_color }};

	--color--label-brand: {{ settings.color_brand | color_modify: 'alpha', label_opacity }};
	--color--label-sold_out: {{ settings.color_label_sold_out | color_modify: 'alpha', label_opacity }};
	--color--label-discount: {{ settings.color_label_discount | color_modify: 'alpha', label_opacity }};
	--color--label-new: {{ settings.color_label_new | color_modify: 'alpha', label_opacity }};
	--color--label-custom1: {{ settings.color_label_custom_one | color_modify: 'alpha', label_opacity }};
	--color--label-custom2: {{ settings.color_label_custom_two | color_modify: 'alpha', label_opacity }};
	
	--color--text-label-brand: {{ label_brand_text_color }};
	--color--text-label-sold_out: {{ label_sold_out_text_color }};
	--color--text-label-discount: {{ label_discount_text_color }};
	--color--text-label-new: {{ label_new_text_color }};
	--color--text-label-custom_one: {{ label_custom_one_text_color }};
	--color--text-label-custom_two: {{ label_custom_two_text_color }};

	--font--size-base: {{ base_size }};
	--font--line-base: 30;

	--font--size-h1: {{ base_size | plus: 16 | times: heading_size | round }};
	--font--size-h2: {{ base_size | plus: 10 | times: heading_size | round }};
	--font--size-h3: {{ base_size | plus: 6 | times: heading_size | round }};
	--font--size-h4: {{ base_size | plus: 4 | times: heading_size | round }};
	--font--size-h5: {{ base_size | plus: 2 | times: heading_size | round }};
	--font--size-h6: {{ base_size | plus: 1 | times: heading_size | round }};

	--font--size-grid: {{ base_size | times: grid_size | round }};
	--font--size-nav: {{ base_size | times: nav_size | round }};

	--font--body: {{ base_font.family }}, {{ base_font.fallback_families }};
	--font--body-style: {{ base_font.style }};
  --font--body-weight: {{ base_font.weight }};

  --font--title: {{ header_font.family }}, {{ header_font.fallback_families }};
	--font--title-weight: {{ header_font.weight }};
	--font--title-style: {{ header_font.style }};
	--font--title-space: {{ settings.type_header_letterspace }}px;
	--font--title-transform: {% if settings.type_header_capitalize %}uppercase{% else %}none{% endif %};

	--font--button: {{ button_font.family }}, {{ button_font.fallback_families }};
	--font--button-weight: {{ button_font.weight }};
	--font--button-style: {{ button_font.style }};

	--font--button-space: {{ settings.type_button_letterspace }}px;
	--font--button-transform: {% if settings.type_button_capitalize %}uppercase{% else %}none{% endif %};
	--font--button-size: {{ base_size | times: button_size | round }};
	--font--button-mobile-size: 12px;

	--radius-button: {{ settings.radius_buttons }}px;
	--radius-form: {{ settings.radius_form }}px;
	--radius-variant: {{ settings.radius_variant }}px;
	--radius-label: {{ settings.radius_label }}px;
	--radius-popup: {{ settings.radius_popup }}px;
	--radius-container: {{ settings.radius_container }}px;
	--radius-media: {{ settings.radius_media }}px;

	--checkbox-check-invert: {{ checkbox_check_invert }};

	--pswp-zoom-icon: url({{ 'pswp-zoom-icon.svg' | asset_url }});
	--pswp-zoom-icon-2x: url({{ 'pswp-zoom-icon-2x.svg' | asset_url }});
	--pswp-zoom-out-icon: url({{ 'pswp-zoom-out-icon.svg' | asset_url }});
	--pswp-zoom-out-icon-2x: url({{ 'pswp-zoom-out-icon-2x.svg' | asset_url }});
}
{% endstyle %}